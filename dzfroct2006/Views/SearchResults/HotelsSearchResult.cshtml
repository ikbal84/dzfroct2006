<script src="https://maps.googleapis.com/maps/api/js?libraries=visualization">
</script>
<script>
    var map;

    function initialize() {
        map = new google.maps.Map(document.getElementById('map-canvas'), {
            zoom: 2,
            center: new google.maps.LatLng(2.8, -187.3),
            mapTypeId: google.maps.MapTypeId.TERRAIN
        });

        // Create a <script> tag and set the USGS URL as the source.
        var script = document.createElement('script');
        // (In this example we use a locally stored copy instead.)
        // script.src = 'http://earthquake.usgs.gov/earthquakes/feed/geojsonp/2.5/week';
        script.src = 'earthquake_GeoJSONP';
        document.getElementsByTagName('head')[0].appendChild(script);
    }

    // Loop through the results array and place a marker for each
    // set of coordinates.
    window.eqfeed_callback = function (results) {
        for (var i = 0; i < results.features.length; i++) {
            var coords = results.features[i].geometry.coordinates;
            var latLng = new google.maps.LatLng(coords[1], coords[0]);
            var marker = new google.maps.Marker({
                position: latLng,
                map: map
            });
        }
    }
    google.maps.event.addDomListener(window, 'load', initialize)
</script>

@model dzfroct2006.BLL.HotelsQuery

@{
    ViewBag.Title = "HotelsSearchResult";
    Layout = "~/Views/Shared/_Layoutpages.cshtml";
}

@{
    
    var DefaultImage = new dzfroct2006.Models.HotelImages()
    {
        Name = @Resources.Labels.DefaultImageNameValue,
        FilePath = "../Images/NoImage.jpg"
    };

}

<div id="filters" class="col-xs-12 col-sm-10 col-md-7">
    @using (Html.BeginForm()) {
        @Html.ValidationSummary(true)
        foreach (var feature in Model.Features)
        {
            <div class="col-xs-12 col-sm-6  col-md-4">
                <input type="checkbox" name="@feature.SearchFeatureName" @feature.SearchFeatureValue/> @feature.SearchFeatureName
            </div>
        }
        <div class="row pull-right" >
            <input type="submit" class="btn btn-info" value="@Resources.Labels.Filter" />
        </div>
    }
</div>


<div class="col-md-7">
    @foreach (var item in Model.ResultHotels) {
      <div class="row SearchResult">
          <div class="col-xs-0 col-sm-10 col-md-4" >
              @if(item.HotelImages != null && item.HotelImages.Count > 0)
              {
                  var Image = @item.HotelImages.Where(img => img.isHeader).First();
                  Image = Image != null ? Image : DefaultImage;
                                                                                    
                  <img src="@Image.FilePath" title="@Image.Name" />
              }
              else{
                     <img src="@DefaultImage.FilePath" title="@DefaultImage.Name" />
              }
          </div>
          <div class="col-xs-12 col-sm-10 col-md-8">
              <div class="row">
                  <div class="col-md-7">
                       <h1>@Html.ActionLink(item.Name,  "Hotel",  "Hotel",  new{ id = item.HotelID }, new{@Style="text-decoration: initial; color: #565A5C"} )</h1>  
                  </div>
                  <div class="col-md-5 HotelStars" >
                      @{
                          var StarsImgPath = "/Images/stars_" + @item.NbStars + ".jpg";  
                      }      
                      <img src="@StarsImgPath" />
                </div>
              </div>
              
              <div class="row">
                  <div class ="col-xs-12 col-sm-10 col-md-4">
                      <span> @Html.DisplayFor(modelItem => item.Town) @Html.DisplayFor(modelItem => item.Wilaya) </span>
                  </div>

              </div>
              <div class="row well">
                   @Html.DisplayFor(modelItem => item.Description)
              </div>
         
          </div>

      </div>
    }

</div>
<div id="map-canvas"  class="col-xs-0 col-sm-10 col-md-5 HotelsMap">
    

</div>

