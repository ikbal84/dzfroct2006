<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003" DefaultTargets="UnitTests">
 <ItemGroup>
 		<BuildArtifactsDir Include="BuildArtifacts\"/>
 		<SolutionFile Include="dzfroct2006.sln"/>
 		<TestContainer Include="UnitTests\bin\Debug\UnitTests.dll" />
 </ItemGroup>

 <PropertyGroup>
 		<Configuration Condition=" '$(Configuration)' == '' "> Debug </Configuration>
 		<BuildPlateforme Condition=" '$(BuildPlateforme)' == '' "> Any CPU </BuildPlateforme>
 </PropertyGroup>

 <Target Name="Clean">
 		<RemoveDir Directories="@(BuildArtifactsDir)"/>
 </Target>


 <Target Name="Init" DependsOnTargets="Clean">
 		<MakeDir Directories="@(BuildArtifactsDir)"/>
 </Target>

<Target Name="Compile" DependsOnTargets="Init">
 	<MSBuild Projects="@(SolutionFile)" Targets="Rebuild" Properties="Configuration=$(Configuration); Platform=$(BuildPlateforme)" />
 </Target>

 <Target Name="UnitTests" DependsOnTargets="Compile">
	<Exec Command='nunit-console "@(TestContainer)"'/>
</Target>

<Target Name="Echo"> 
	<Exec command='echo "@(NUnitRunner)" /testcontainer:@(TestContainer) /resultsfile:@(TestResult) /nologo /noisolation' />
</Target>
</Project>